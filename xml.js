class xml{constructor(a){this._xml=a}transforma_magicamente(a){function c(a){return 9>=a&&(a="0"+a),a}const d=parseInt(a/60),e=c(parseInt(a/3600)),f=c(d-60*e);var g=a-60*d+"";"0"==g&&(g="00.000");var h=g.split(".");if(h[0]=c(h[0]),1==h.length)h.push("000");else if(3<h[1].length)h[1]=h[1].slice(0,3);else if(6>h[1].length)for(var j=3-h[1].length,b=0;b<j;b++)h[1]+="0";g=h.join(",");const k=e+":"+f+":"+g;return k}toSrt(){function a(a){const b=document.createElement("p");return b.innerHTML=a,b.textContent}var b="",c=1;const d=this._xml.getElementsByTagName("text");for(var e=0;e<d.length;e++){const g=d[e],h=g.getAttribute("dur");if("undefined"==typeof g.childNodes[0])var f=null;else var f=g.childNodes[0].nodeValue;const i=g.getAttribute("start"),j=this.transforma_magicamente(i),k=this.transforma_magicamente(parseFloat(i)+parseFloat(h));if(null==f){++c;continue}const l=c+"\n"+j+" --> "+k+"\n"+a(f)+"\n\n";b+=l,++c}return b=b.slice(0,-1),b}}