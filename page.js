class page{constructor(){this.YouTube=new YouTube,$("#urlLabel").change(()=>{pageElement.labelAltered()}),$("#form").submit(()=>(pageElement.submit(),!1)),$("#formModal").submit(()=>(pageElement.modalSubmit(),!1))}labelAltered(e){const o=$("#urlLabel").val();!0===this.YouTube.Url(o)?($("#button1").prop("disabled",!1),$("#urlHelper").addClass("d-none")):($("#button1").prop("disabled",!0),$("#urlHelper").removeClass("d-none"))}async modalSubmit(){var e={traduzir:$("#portugueseLegend").prop("checked"),option:$("#legendSelect").val()};await this.YouTube.processLegend(e),$(".modal").modal("hide"),this.dowload()}dowload(){var e=new Blob([this.YouTube.legend],{type:"text/plain;charset=utf-8"});saveAs(e,this.YouTube.videoName+".srt")}async submit(){const e=await this.YouTube.VideoData();if(null==e)$(".noVideo").removeClass("d-none"),$(".yesVideo").addClass("d-none"),$("#formModal button[type=submit]").prop("disabled",!0);else{$(".noVideo").addClass("d-none"),$(".yesVideo").removeClass("d-none"),$("#formModal button[type=submit]").prop("disabled",!1),$("#videoName").html(e.name),$("#videoChannel").html(e.canal),$("#videoDuration").html(e.time.minutos+":"+e.time.segundos),$("#videoImage").prop("src",e.image);const t=await this.YouTube.legendsData();if(null!=t){$(".noLegends").addClass("d-none"),$(".yesLegends").removeClass("d-none");for(let e=0;e<t.length;e++){const d=t[e],n=d.name;var o=d.lang_name;""!=n&&(o+=" - "+n);var a=document.createElement("option");a.setAttribute("value",e),a.innerHTML=o,document.getElementById("legendSelect").appendChild(a)}}else $(".noLegends").removeClass("d-none"),$("#formModal button[type=submit]").prop("disabled",!0),$(".yesLegends").addClass("d-none")}$(".modal").modal("show")}}